receivers:
  otlp:
    protocols:
      grpc:

processors:
  resource:
    attributes:
      - key: data_stream.namespace
        value: otel-shipper-test1
        action: upsert

exporters:
  debug:
    # verbosity: detailed
  file:
    path: /tmp/otel-output.ndjson
  elasticsearch:
    endpoints:
    - http://localhost:9200
    user: elastic
    password: changeme
    logs_dynamic_index:
      enabled: true
      mode: data_stream
    mapping:
      mode: ecs

service:
  pipelines:
    logs:
      receivers:
        - otlp
      processors:
        - resource
      exporters:
        - debug
        - elasticsearch
        # - file
    # metrics:
    #   receivers:
    #     - otlp
    #   processors:
    #     - resource
    #   exporters:
    #     - debug
    #     - elasticsearch
    #     # - file
